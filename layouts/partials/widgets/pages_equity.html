{{/* pages_equity Widget */}}

{{/* Initialise */}}
{{ $ := .root }}
{{ $st := .page }}
{{ $items_type := $st.Params.content.page_type | default "post" }}
{{ $items_offset := $st.Params.content.offset | default 0 }}
{{ $items_count := $st.Params.content.count }}
{{ if eq $items_count 0 }}
  {{ $items_count = 65535 }}
{{ else }}
  {{ $items_count = $items_count | default 5 }}
{{ end }}
{{ $items_sort := $st.Params.content.order | default "desc" }}

{{/* Query */}}
{{ $query := where site.RegularPages "Type" $items_type }}
{{ $archive_page := site.GetPage "Section" $items_type }}

{{/* Filters */}}
{{ if $st.Params.content.filters.tag }}
  {{ $archive_page = site.GetPage (printf "tags/%s" (urlize $st.Params.content.filters.tag)) }}
  {{ $query = $query | intersect $archive_page.Pages }}
{{ end }}
{{ if $st.Params.content.filters.category }}
  {{ $archive_page = site.GetPage (printf "categories/%s" (urlize $st.Params.content.filters.category)) }}
  {{ $query = $query | intersect $archive_page.Pages }}
{{ end }}
{{ if $st.Params.content.filters.publication_type }}
  {{ $archive_page = site.GetPage (printf "publication_types/%s" $st.Params.content.filters.publication_type) }}
  {{ $query = $query | intersect $archive_page.Pages }}
{{ end }}
{{ if $st.Params.content.filters.author }}
  {{ $archive_page = site.GetPage (printf "authors/%s" (urlize $st.Params.content.filters.author)) }}
  {{ $query = $query | intersect $archive_page.Pages }}
{{ end }}
{{ if $st.Params.content.filters.exclude_featured }}
  {{ $query = where $query "Params.featured" "!=" true }}
{{ end }}
{{ if $st.Params.content.filters.exclude_past }}
  {{ $query = where $query "Date" ">=" now }}
{{ end }}
{{ if $st.Params.content.filters.exclude_future }}
  {{ $query = where $query "Date" "<" now }}
{{ end }}

{{ $count := len $query }}

{{/* Sort */}}
{{ $sort_by := "Date" }}
{{ $query = sort $query $sort_by $items_sort }}

{{/* Offset and Limit */}}
{{ if gt $items_offset 0 }}
  {{ $query = first $items_count (after $items_offset $query) }}
{{ else }}
  {{ $query = first $items_count $query }}
{{ end }}

{{/* Localisation */}}
{{ $i18n := "" }}
{{ if eq $items_type "post" }}
  {{ $i18n = "more_posts" }}
{{ else if eq $items_type "talk" }}
  {{ $i18n = "more_talks" }}
{{ else if eq $items_type "equitytalks" }}
  {{ $i18n = "more_talks" }}
{{ else if eq $items_type "publication" }}
  {{ $i18n = "more_publications" }}
{{ else }}
  {{ $i18n = "more_pages" }}
{{ end }}

{{ $columns := $st.Params.design.columns | default "2" }}
<div class="container">
  <div class="row justify-content-center">
  <div class="col-12 section-heading">
      <h2 class="bluetitle">Select Invited Talks</h2>
    </div>
  </div>
<div class="row justify-content-center">
  <div class="col-12 col-lg-10">

    {{ with $st.Content }}{{ . }}{{ end }}

    {{ range $post := $query }}
      {{ if eq $st.Params.design.view 1 }}
        {{ partial "li_list" . }}
      {{ else if eq $st.Params.design.view 3 }}
        {{ partial "li_card" . }}
      {{ else if eq $st.Params.design.view 4 | and (eq $items_type "publication") }}
        {{ partial "li_citation" . }}
      {{ else if eq $st.Params.design.view 5 }}
        {{ partial "li_compact_equity" . }}
      {{ else }}
        {{ partial "li_compact" . }}
      {{ end }}
    {{end}}

    {{/* Archive link */}}
    {{ $show_archive_link := $st.Params.content.archive.enable | default (gt $count $items_count) }}
    {{ if $show_archive_link }}

      {{ $archive_link := "" }}
      {{ if $st.Params.content.archive.link }}
        {{ $archive_link = $st.Params.content.archive.link | relLangURL }}
      {{ else }}
        {{ $archive_link = $archive_page.RelPermalink }}
      {{ end }}

      {{ $archive_text := $st.Params.content.archive.text | default (i18n $i18n) | default "See all" }}

      <div class="see-all">
        <a href="{{ $archive_link }}">
          {{ $archive_text | emojify }}
          <i class="fas fa-angle-right"></i>
        </a>
      </div>
    {{ end }}

  </div>

</div>
  <div class="row justify-content-center">
    <div class="col-10 mb-1" style="align-self: center">
          <div class="card">
          <div class = "card-body bio-padding">      <p>
        <div class="left"><img border="0" alt="A stick figure stands at the bottom of two steps to REPRESENTATION. The first is labeled 'equal access to tech for users' and the second is labeled 'Developer access to industries'" src="media/steps.png" width="100%" height="100%" border-radius=30%;></div>
        <div class= "right"><img border="0" alt="A cycle with four parts: 1. Better, more accessible tech, 2. Greater access to education, 3. More disabled people in STEM, and 4. More representation in industry" src="media/advocacy_cycle.png" width="100%" height="100%" border-radius=30%;>
        </div></p>
      <p>  Driven by an experience with autonomous robots whose inaccessibility poses a tangible threat to the disability community, I am interested in exploring the inequity created by the inaccessibility of tech and education. I believe that representation in STEM and the design process is key, and that it must be addressed at two levels: making tech accessible for the disabled user to gain equitable access to education, and making the tech industry more accessible and supportive for disabled developers. </p>
      <p>[updated statement on how i got my start, what i speak on now, and what i'd like to speak on]</p>
<!--       <style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0;  width: 100%; height: 100%; }</style><div class='embed-container'><iframe src='https://www.youtube.com/embed//MZtYriuua3U' frameborder='0' allowfullscreen></iframe></div> -->
         </div>
            </div>

    </div> 
  </div>
</div>